var bundle=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(e,t,n){var r=arguments;if(t=t||{},arguments.length>3){n=[n];for(var o=3;o<arguments.length;o++)n.push(r[o])}null!=n&&(t.children=n);var i={type:e,props:t},a=t.key;return null!=a&&(i.key=""+a),i}function r(e){return null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e?n(null,null,""+e):e}var o=[],i={},a={},s="@state",c="@type",l="host",u=97,d=116,p=79,f=77,h=73,v=67,y={children:1},g={innerHTML:1,textContent:1,contenteditable:1},m={};var b,x,k=Promise.prototype.then.bind(Promise.resolve());function w(e,t,n,r,o,a){if(r!=n)if("o"!=t[0]||"n"!=t[1]||"function"!=typeof r&&"function"!=typeof n)switch(t){case"ref":r&&(r.current=e);break;case"style":!function(e,t,n){var r=t,o=n;if("object"==typeof o)for(var i in o="",n)n[i]&&(m[i]||(m[i]=i.replace(/([A-Z])/g,"-$1").toLowerCase()),o+=m[i]+":"+n[i]+";");r!=o&&(e.style.cssText=o)}(e,n||e.style.cssText,r);break;case"shadowDom":return void("attachShadow"in e&&(e.shadowRoot&&!r||!e.shadowRoot&&r)&&e.attachShadow({mode:r?"open":"closed"}));case"key":t="data-key",null==r?delete e.dataset.key:e.dataset.key=r;break;case"class":case"className":t=o?"class":"className";default:"list"!=t&&!o&&t in e?e[t]=null==r?"":r:null==r?e.removeAttribute(t):e.setAttribute(t,r)}else!function(e,t,n,r){i[t]||(i[t]=t.slice(2).toLocaleLowerCase()),t=i[t],r.handleEvent||(r.handleEvent=D),n?(r[t]||e.addEventListener(t,r),r[t]=n):r[t]&&(e.removeEventListener(t,r),delete r[t])}(e,t,r,a)}function D(e){return this[e.type](e)}function C(){if(!b)throw new Error("the hooks can only be called from an existing functional component in the diff queue");return b}function E(e,t){e.reducer&&(e.state=e.reducer(e.state,t))}function A(e,t){for(var n=e.length,r=0;r<n;r++){var o=e[r],i=o.hooks,a=i.length;t.type===v&&(o.remove=!0);for(var s=0;s<a;s++)E(i[s],t)}}function O(e,t,n,r){var o=(t[e]||{}).updateComponent,i=t.childNodes,a=i.length;o&&o!=r&&o(n?h:v);for(var s=0;s<a;s++)O(e,i[s])}function T(e,t){var n,r=document;return(n=null!=e?t?r.createElementNS("http://www.w3.org/2000/svg",e):r.createElement(e):r.createTextNode(""))[c]=e,n}function j(e,t,n,i,a){if(void 0===a&&(a=0),n=n||[],i=i||[],Array.isArray(e))for(var s=e.length,c=0;c<s;c++)j(e[c],t,n,i,a+1);else{if(null==e&&!a)return o;var l=t?t(e,i.length):r(e);t||"object"==typeof l&&null!=l.key&&-1==n.indexOf(l.key)&&(n.push(l.key),n.withKeyes=!0),i.push(l)}return i}function L(e,t,o){o=o||s,e=r(e),o==s&&e.type!=l&&(e=n(l,{},e)),function e(t,n,o,i,a,s){var u=n&&n[t]||{},m=u.vnode,D=u.updateComponent,C=u.handlers;if(void 0===C&&(C={}),m==o)return n;m=m||{props:{}};var E=o.type,L=o.props,N=L.shadowDom,S=L.children,P="function"==typeof E;if(a=a||"svg"==E,P&&!D&&(D=function(t,n){var o,i=[];return function a(s,c,l,u){switch(s){case d:return o=c,function s(c,l,u){if(o){if("function"!=typeof(c=r(c)).type)return A(i.splice(u),{type:v}),o=e(t,o,c,l,n,a),void(i.length&&(o[t].updateComponent=a));var h,y,g=i[u]||{};g.type!=c.type&&(A(i.splice(u),{type:v}),i[u]=function e(t,n){var r=arguments;for(var o in n)t[o]=n[o];for(var i=2;i<arguments.length;i++)e(t,r[i]);return t}({hooks:[]},c),h=!0,y=!0);var m=c.props,w=(g=i[u]).props;if(!y){var D=Object.keys(w).length,C=0;for(var E in m)if(C++,m[E]!=w[E]){y=!0;break}y=y||D!=C}y=g.context!=l||y,g.props=m,g.context=l,y&&!g.prevent&&function e(){if(g.remove)return o;var t=b={component:g,context:l,next:function(){g.prevent||(g.prevent=!0,k(function(){g.prevent=!1,e()}))}};x=0,A([g],{type:d});var n=g.type(g.props);b=!1,x=0,s(n,t.context,u+1),A([g],{type:h?p:f}),h=!1}()}}(l,u,0),o;case h:A([].concat(i).reverse(),{type:s});break;case v:o=!1,A(i.reverse(),{type:s}),i=[]}}}(t,a)),!P&&E!=l&&function(e){if(e){if(!e[c]){var t=e.nodeName.toLowerCase();e[c]="#text"==t?null:t}return e[c]}}(n)!==E){var B=T(E,a),z=n&&n.parentNode;z&&(O(t,n,!0,s),z.replaceChild(B,n)),n=B,C={}}return D&&s!=D?D(d,n,o,i):(null==E?n.nodeValue!=S&&(n.nodeValue=S):function(e,t,n,r,o){for(var i in t=t||{})y[i]||i in n||w(e,i,t[i],null,r,o);var a;for(var s in n)y[s]||(w(e,s,t[s],n[s],r,o),a=a||g[s]);return a}(n,m.props,o.props,a,C)||m.props.children==S||function(t,n,r,o,i){for(var a=[],s=j(S,!1,a),c=s.length,l=n.childNodes,u={},d=l.length,p=a.withKeyes,f=p?0:d>c?c:d;f<d;f++){var h=l[f],v=f;p&&a.indexOf(v=h.dataset.key)>-1?u[v]=h:(O(t,h),f--,d--,n.removeChild(h))}for(var y=0;y<c;y++){var g=s[y],m=l[y],b=l[y+1],x=p?u[p?g.key:y]:m;p&&x!=m&&n.insertBefore(x,m);var k=e(t,x||"function"!=typeof g.type?x:T(null),g,o,i);x||(b?n.insertBefore(k,b):n.appendChild(k))}}(t,N&&n.shadowRoot||n,0,i,a),n[t]={vnode:o,handlers:C},n)}(o,t,e,a)}function N(e){var t=C().next,n=function(e,t){var n,r,o=C().component,i=x++;return o.hooks[i]||(r=!0,o.hooks[i]={state:t}),(n=o.hooks[i]).reducer=e,r&&E(n,{type:u}),[n.state,function(e){return E(n,e)}]}(function(t,n){switch(n.type){case u:return"function"==typeof e?e():e;case 159:var r=n.state;return"function"==typeof r?r(t):r}return t}),r=n[1];return[n[0],function(e){r({state:e,type:159}),t()}]}var S=n;let P=Promise.resolve(),B=0;class z extends HTMLElement{constructor(){super();let e,t="@wc."+B++,n=this.constructor.attributes,r=this.props={};this.set=((t,o)=>{if("object"==typeof t&&null==o){for(let e in t)this.set(e,t[e]);return}let i=t.replace(/-(\w)/g,(e,t)=>t.toUpperCase());n[t]&&(o=n[t](o,r[i],t)),r[i]!=o&&(r[t]=o,!e&&this.mounted&&(e=!0,P.then(()=>{e=!1,this.update(r)})))}),this.render=this.render.bind(this),this.update=(e=>{L(e?S(this.render,e):S("host"),this,t)}),this.setup=(()=>{this.mounted=!0;for(let e in n)this.set(e,this.getAttribute(e));this.update(r)})}static get observedAttributes(){return Object.keys(this.attributes||{})}connectedCallback(){this.setup()}disconnectedCallback(){this.update(null)}attributeChangedCallback(e,t,n){this.set(e,n)}render(){return S("host")}}function R(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var M="input{background:rgba(0,0,0,.003);width:100%;font-size:24px;color:inherit;padding:6px;border:1px solid #ccc;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box}";R(M);let H=0;function K(e){return S("div",{shadowDom:!0},S("style",null,M),S("form",{onSubmit:t=>{t.preventDefault(),e.onChange&&e.onChange({text:t.target.input.value,id:H++}),t.target.reset()}},S("input",{name:"input",type:"text",placeholder:e.placeholder})))}var V=':host{display:flex}input{text-align:center;border:none;-webkit-appearance:none;appearance:none;padding:.2rem .5rem;outline:none}input:after{content:url(\'data:image/svg+xml;utf8,<svg%20xmlns%3D"http%3A//www.w3.org/2000/svg"%20width%3D"40"%20height%3D"40"%20viewBox%3D"-10%20-18%20100%20135"><circle%20cx%3D"50"%20cy%3D"50"%20r%3D"50"%20fill%3D"none"%20stroke%3D"%23ededed"%20stroke-width%3D"3"/></svg>\')}input:checked:after{content:url(\'data:image/svg+xml;utf8,<svg%20xmlns%3D"http%3A//www.w3.org/2000/svg"%20width%3D"40"%20height%3D"40"%20viewBox%3D"-10%20-18%20100%20135"><circle%20cx%3D"50"%20cy%3D"50"%20r%3D"50"%20fill%3D"none"%20stroke%3D"%23bddad5"%20stroke-width%3D"3"/><path%20fill%3D"%235dc2af"%20d%3D"M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z"/></svg>\')}input:checked~.text{color:#d9d9d9;text-decoration:line-through}.group{display:flex;align-items:center}.text{flex:0%;padding:1rem;font-size:24px;text-align:left}button{color:#cc9a9a;background:none;border:0;font-size:30px;margin-right:1rem}';function W(e){return S("div",{shadowDom:!0,key:e.key},S("style",null,V),S("input",{type:"checkbox",onChange:e.onToggle,checked:e.checked}),S("div",{class:"text"},e.text),S("button",{onClick:e.onRemove},"x"))}R(V);var q=":host{display:block;box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.1);background:#fff}";R(q);class I extends z{render(){let n=t(N(()=>[{text:"my initial todo",checked:!1,id:-1>>>0},{text:"Learn about Web Components",checked:!0,id:-2>>>0}]),2),r=n[0],o=n[1];return S("host",{shadowDom:!0},S("style",null,q),S(K,{placeholder:"What needs to be done?",onChange:e=>{o(r.concat(e))}}),S("div",null,r.map((t,n)=>{let i=t.text,a=t.checked,s=t.id;return S(W,{key:s,text:i,checked:a,onRemove:()=>{o(r.filter((e,t)=>t!==n))},onToggle:()=>{o(r.map((t,r)=>r===n?function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){e(t,n,r[n])})}return t}({},t,{checked:!t.checked}):t))}})})))}}return customElements.define("atomico-todo",I),I}();
//# sourceMappingURL=atomico-todo.iife.js.map
